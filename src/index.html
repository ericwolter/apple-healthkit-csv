<!doctype html>
<html lang=en>

<!-- 
TODO:
* Style footer
 -->

<head>
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-42589062-1"></script> -->
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-42589062-1');
    </script>
    <meta charset=utf-8>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="This site allows you to convert the export.xml from Apple's Health app to an easy to use and universal comma-separated file.">
    <title>Apple Health XML to CSV Converter - ericwolter.com</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-itunes-app" content="app-id=1535380115">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../node_modules/normalize.css/normalize.css">
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <header id="banner">
        <nav class="main-navigation" role="navigation">
            <a class="bg-swipe-fx" id="logo" href="https://www.ericwolter.com/">E</a>
            <ul>
                <li><a href="#app-anchor">App</a></li>
                <li><a href="#donation-anchor">Support</a></li>
                <li><a href="#faq-anchor">FAQ</a></li>
            </ul>
        </nav>
    </header>
    <main id="content" role="main">
        <section id="title">
            <svg class="beating-heart" baseProfile="basic" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 189.9448242 167.9176178">
                <linearGradient id="a" gradientUnits="userSpaceOnUse" x1="-308.164" y1="374.749" x2="-308.164" y2="373.749" gradientTransform="matrix(189.94482 0 0 -167.91763 58629.215 62926.957)">
                    <stop offset="0" stop-color="var(--gradient-stop-0)"/>
                    <stop offset="1" stop-color="var(--gradient-stop-1"/>
                </linearGradient>
                <path fill="url(#a)" d="M95.118 167.918c13.996-.05 94.902-54.59 94.827-112.858-.04-30.516-24.69-55.168-55.056-55.06-15.75.056-29.944 6.76-39.954 17.46C84.896 6.843 70.674.23 54.913.285 24.546.393-.04 25.22 0 55.735c.075 58.27 81.122 112.232 95.118 112.183z"/>
            </svg>
            <h1>Apple Health XML to CSV Converter</h1>
            <p class="subheading">Convert your Apple Health export.xml to CSV format.<wbr> Completely private!</p>
        </section>
        <section id="load">
            <div id="dropzone">
                <svg class="drop-icon" enable-background="new 0 0 24 24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <rect width="24" height="24" fill="none"/>
                    <path d="m10.5 13h-1c-0.83 0-1.5-0.67-1.5-1.5s0.67-1.5 1.5-1.5h1v-1c0-0.83 0.67-1.5 1.5-1.5s1.5 0.67 1.5 1.5v1h1c0.83 0 1.5 0.67 1.5 1.5s-0.67 1.5-1.5 1.5h-1v1c0 0.83-0.67 1.5-1.5 1.5s-1.5-0.67-1.5-1.5v-1zm0.8-10.74-6 2.25c-0.78 0.3-1.3 1.04-1.3 1.88v4.7c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91v-4.7c0-0.83-0.52-1.58-1.3-1.87l-6-2.25c-0.45-0.18-0.95-0.18-1.4-0.01z"/>
                </svg>
                <button class="drop-button">Load export.xml</button>
                <div class="drop-text">... or drop your export.xml file here</div>
                <div id="progress-overlay"></div>
            </div>
            <input type="file" id="input" accept=".xml" style="display:none">
            <div id="disclaimer">
                <p>All work is done locally by your browser. <em>Nothing</em> is uploaded to my server.</p>
                <div id="debug">
                    <div>If you are having issues please <a id="showdebug" href="#">click here</a> after running the converter.</div>
                    <div id="debuglog" style="display: none">
                        <textarea id="logtext"></textarea>
                        <p>
                            Please copy and paste these log messages and attach them when contacting me. I have taking great care - even impacting the usefulness - to avoid sending any personal data. However, additionally please verify manually that you are okay with sending this
                            data.
                        </p>
                    </div>
                </div>
            </div>
        </section>
        <section id="results">
            <h2>Results</h2>
            <table id="results-table">
                <tbody>
                </tbody>
            </table>
        </section>
        <div class="anchor" id="donation-anchor"></div>
        <section id="donation">
            <h2><strong>Hey </strong>üëã<strong>, nice to meet you!</strong></h2>
            <div class="narrow">
                <p>My name is Eric and I love to create apps in my free time.<br>If you find this site helpful, please consider supporting me! ‚òïÔ∏è</p>
                <p></p>
                <strong>Thanks a lot!</strong>
                <p>Feel free to <a href="https://mailhide.io/e/bLVMN" onclick="mailhidepopup=window.open('https://mailhide.io/e/bLVMN','mailhidepopup','width=580,height=635'); return false;">contact me</a> if you have any questions!</p>
                <div class="donations">
                    <a class="donate-link paypal" target="_blank" rel="noopener" href="https://www.paypal.com/donate/?hosted_button_id=8VYMPBHRGJGHG">
                        <svg baseProfile="basic" version="1.1" viewBox="0 0 189.94 167.92" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                            <path d="m95.118 167.92c13.996-0.049744 94.902-54.588 94.827-112.86-0.039429-30.517-24.689-55.168-55.055-55.06-15.749 0.055984-29.943 6.7606-39.954 17.46-10.04-10.617-24.261-17.231-40.023-17.175-30.367 0.10795-54.952 24.934-54.913 55.451 0.075302 58.269 81.122 112.23 95.118 112.18z"/>
                        </svg> Donate via PayPal
                    </a>
                    <a class="donate-link paypal" target="_blank" rel="noopener" href="https://www.buymeacoffee.com/ericwolter">
                        <svg baseProfile="basic" version="1.1" viewBox="0 0 189.94 167.92" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                            <path d="m95.118 167.92c13.996-0.049744 94.902-54.588 94.827-112.86-0.039429-30.517-24.689-55.168-55.055-55.06-15.749 0.055984-29.943 6.7606-39.954 17.46-10.04-10.617-24.261-17.231-40.023-17.175-30.367 0.10795-54.952 24.934-54.913 55.451 0.075302 58.269 81.122 112.23 95.118 112.18z"/>
                        </svg> Buy me a coffee
                    </a>
                </div>
            </div>
        </section>
        <div class="anchor" id="app-anchor"></div>
        <section id="app">
            <h2>iPhone App</h2>
            <div class="narrow">
                <a class="appstore-link" href="https://apps.apple.com/us/app/simple-health-export-csv/id1535380115?itscg=30200&amp;itsct=apps_box_appicon" style="width: 80px; height: 80px; display: inline-block; overflow: hidden; text-decoration: none; border-radius:22%; border: 1px solid var(--app-icon-border)">
                    <img src="res/simple-health-export-csv.png" alt="Simple Health Export CSV" style="width: 80px; height: 80px;">
                </a>
                <p>
                    Handling (very) large XML files can be cumbersome. For this reason I created a very simple app to export your health data into CSV.
                </p>
                <p>
                    It is also completely <strong>free</strong> and has the same focus on <strong>privacy</strong>.
                </p>
                <a class="appstore-link" href="https://apps.apple.com/us/app/simple-health-export-csv/id1535380115?itsct=apps_box_badge&amp;itscg=30200" style="width: 160px; height: 54px; display: inline-block; overflow: hidden; text-decoration: none;;">
                    <picture>
                        <source srcset="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/en-us?size=250x83&amp;releaseDate=1603497600&h=e397849b8726086cb41c319108f196d5" media="(prefers-color-scheme: dark)">
                        <img src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/white/en-us?size=250x83&amp;releaseDate=1603497600&h=e397849b8726086cb41c319108f196d5" alt="Download on the App Store" style="width: 160px; height: 54px;">
                    </picture>
                </a>
            </div>
        </section>
        <div class="anchor" id="faq-anchor"></div>
        <section id="faq">
            <h2>Frequently Asked Questions</h2>
            <dl class="narrow">
                <dt class="question"><h3>How do I export my apple health data?</h3></dt>
                <dd class="answer">
                    <p>
                        The Apple's documentation about <a href="https://support.apple.com/guide/iphone/share-your-health-data-iph5ede58c3d/ios">exporting and sharing your health data</a> is very short. Sometimes these actions are not obvious. A more
                        useful description is the <a href="https://osxdaily.com/2019/05/20/export-health-data-from-iphone/">step-by-step guide</a> compiled by OSXDaily.
                    </p>
                </dd>
                <hr>
                <dt class="question"><h3>How do I get the export.xml from my apple health data?</h3></dt>
                <dd class="answer">
                    <p>
                        Please extract the "export.zip" you exported from the Health app. Inside you find the "export.xml" file. Use this XML file for the Apple Health Converter on this page. Note that the XML file can be very large (e.g. > 100MB). But, as the conversion is
                        performed locally in your browser this will be fast as no data upload is needed.
                    </p>
                    <p>
                        In case you run into issues with large XML files on your browser, consider <a class="appstore-link" href="#app">using the app</a>.
                    </p>
                </dd>
                <hr>
                <dt class="question"><h3>How to open my converted csv in Microsoft Excel?</h3></dt>
                <dd class="answer">
                    <p>
                        Most systems will open csv files directly in Excel. If this does not work, the easiest way is to open Excel and then use the file open dialog to manually select the csv file. Note that the CSV separator is automatically detected by Excel. Other spreadsheet
                        programs might not work out of the box. I am using the semicolon as a separator to avoid problems with numbers using comma notation. Please refer to your programs documentation to find out how to change the csv separator.
                    </p>
                </dd>
                <hr>
                <dt class="question"><h3>How is the conversion performed locally in the browser?</h3></dt>
                <dd class="answer">
                    <p>
                        I am using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/FileReader">FileReader API</a> to read the contents of a local file. The XML file is then parsed and converted to CSV files in memory. Finally the CSV is
                        downloaded using the download attribute of your browser.
                    </p>
                </dd>
            </dl>
        </section>
    </main>
    <footer>
        <a href="https://www.ericwolter.com/impressum/">Impressum &amp; Datenschutz</a>
    </footer>
    <script src="main.js"></script>
</body>

</html>